<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Přehrávač poznámek</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1 id="fileTitleDisplay"></h1>
    <audio id="audioPlayer" controls></audio>
    
    <div class="btn-row">
        <button class="btn-small" onclick="setPlaybackRate(1)">1x</button>
        <button class="btn-small" onclick="setPlaybackRate(1.25)">1.25x</button>
        <button class="btn-small" onclick="setPlaybackRate(1.5)">1.5x</button>
        <button class="btn-small" onclick="setPlaybackRate(1.75)">1.75x</button>
        <button class="btn-small" onclick="setPlaybackRate(2)">2x</button>
    </div>
    
    <div class="btn-row">
        <button class="btn-large" onclick="skipTime(-10)">⏪ -10s</button>
        <button class="btn-large" onclick="togglePlayPause()">▶️⏸ Start/Stop</button>
        <button class="btn-large" onclick="skipTime(10)">⏩ +10s</button>
    </div>
    
    <h3>Poznámky</h3>
    <textarea id="noteInput" placeholder="Zadejte poznámku... (Enter pro přidání)"></textarea>
    <br>
    <button class="note-btn" onclick="addNote()">📌 Přidat poznámku</button>
    <button class="note-btn" onclick="sendNotesByEmail()">📧 Poslat poznámky e-mailem</button>

    <!-- Zde přímo v HTML tlačítko s kopírováním -->
    <button class="note-btn" onclick="copyNotesHtml()">📋 Kopírovat poznámky</button>

    <!-- Skrytý input pro spolehlivé kopírování -->
    <textarea id="clipboardHelper" style="opacity:0; position:absolute; left:-9999px;"></textarea>

    <ul id="notesList"></ul>

    <script src="script.js"></script>

    <script>
        function copyNotesHtml() {
            const notesList = document.getElementById("notesList");
            const notes = Array.from(notesList.children).map(note => note.textContent).join("\n");
            const fullText = `Soubor: ${fileName}\n\nPoznámky:\n${notes}`;

            const clipboardHelper = document.getElementById("clipboardHelper");
            clipboardHelper.value = fullText;
            clipboardHelper.style.display = "block";
            clipboardHelper.select();
            clipboardHelper.setSelectionRange(0, 99999);

            const success = document.execCommand("copy");
            clipboardHelper.style.display = "none";

            if (success) {
                alert("Zkopírovánhovno!");
            } else {
                alert("Kopírování selhalo, zkus ručně.");
            }
        }
    </script>
</body>
</html>
