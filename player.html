<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>PÅ™ehrÃ¡vaÄ poznÃ¡mek</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1 id="fileTitleDisplay"></h1>
    <audio id="audioPlayer" controls></audio>
    
    <div class="btn-row">
        <button class="btn-small" onclick="setPlaybackRate(1)">1x</button>
        <button class="btn-small" onclick="setPlaybackRate(1.25)">1.25x</button>
        <button class="btn-small" onclick="setPlaybackRate(1.5)">1.5x</button>
        <button class="btn-small" onclick="setPlaybackRate(1.75)">1.75x</button>
        <button class="btn-small" onclick="setPlaybackRate(2)">2x</button>
    </div>
    
    <div class="btn-row">
        <button class="btn-large" onclick="skipTime(-10)">âª -10s</button>
        <button class="btn-large" onclick="togglePlayPause()">â–¶ï¸â¸ Start/Stop</button>
        <button class="btn-large" onclick="skipTime(10)">â© +10s</button>
    </div>
    
    <h3>PoznÃ¡mky</h3>
    <textarea id="noteInput" placeholder="Zadejte poznÃ¡mku... (Enter pro pÅ™idÃ¡nÃ­)"></textarea>
    <br>
    <button class="note-btn" onclick="addNote()">ğŸ“Œ PÅ™idat poznÃ¡mku</button>
    <button class="note-btn" onclick="sendNotesByEmail()">ğŸ“§ Poslat poznÃ¡mky e-mailem</button>

    <!-- Zde pÅ™Ã­mo v HTML tlaÄÃ­tko s kopÃ­rovÃ¡nÃ­m -->
    <button class="note-btn" onclick="copyNotesHtml()">ğŸ“‹ KopÃ­rovat poznÃ¡mky</button>

    <!-- SkrytÃ½ input pro spolehlivÃ© kopÃ­rovÃ¡nÃ­ -->
    <textarea id="clipboardHelper" style="opacity:0; position:absolute; left:-9999px;"></textarea>

    <ul id="notesList"></ul>

    <script src="script.js"></script>

    <script>
        function copyNotesHtml() {
            const notesList = document.getElementById("notesList");
            const notes = Array.from(notesList.children).map(note => note.textContent).join("\n");
            const fullText = `Soubor: ${fileName}\n\nPoznÃ¡mky:\n${notes}`;

            const clipboardHelper = document.getElementById("clipboardHelper");
            clipboardHelper.value = fullText;
            clipboardHelper.style.display = "block";
            clipboardHelper.select();
            clipboardHelper.setSelectionRange(0, 99999);

            const success = document.execCommand("copy");
            clipboardHelper.style.display = "none";

            if (success) {
                alert("ZkopÃ­rovÃ¡nhovno!");
            } else {
                alert("KopÃ­rovÃ¡nÃ­ selhalo, zkus ruÄnÄ›.");
            }
        }
    </script>
</body>
</html>
