<script>
    async function sendEmail(recipient) {
        const serviceID = "service_1zb4g73";
        const templateID = "template_9epmozc";
        const userID = "PSTcucLXaEZGT6jCs"; // Your public key
        const templateParams = {
            recipient: recipient, // Ensure this matches the EmailJS template
            message: document.getElementById("generatedLink").value,
        };

        try {
            const response = await fetch("https://api.emailjs.com/api/v1.0/email/send", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify({
                    service_id: serviceID,
                    template_id: templateID,
                    user_id: userID,
                    template_params: templateParams,
                }),
            });

            if (response.ok) {
                alert("E-mail byl úspěšně odeslán!");
            } else {
                const error = await response.text();
                console.error("Chyba při odesílání e-mailu:", error);
                alert("Nepodařilo se odeslat e-mail.");
            }
        } catch (error) {
            console.error("Chyba při odesílání e-mailu:", error);
            alert("Nepodařilo se odeslat e-mail.");
        }
    }
</script>
